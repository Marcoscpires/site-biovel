(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{1434:function(e,t,a){"use strict";a("318e")},"318e":function(e,t,a){},a994:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[15155==e.idUsuario?t("div",{staticClass:"q-pa-md"},[t("div",{staticClass:"row q-gutter-md q-pa-md justify-end"},[t("div",{staticClass:"col-2"},[t("q-input",{attrs:{filled:"",mask:"date",rules:["date"],label:"Data inicial"},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{model:{value:e.datein,callback:function(t){e.datein=t},expression:"datein"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,499039178),model:{value:e.datein,callback:function(t){e.datein=t},expression:"datein"}})],1),t("div",{staticClass:"col-2"},[t("q-input",{attrs:{filled:"",mask:"date",rules:["date"],label:"Data final"},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{model:{value:e.datefim,callback:function(t){e.datefim=t},expression:"datefim"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,1005627311),model:{value:e.datefim,callback:function(t){e.datefim=t},expression:"datefim"}})],1),t("div",{staticClass:"col-7"},[t("q-select",{attrs:{filled:"",multiple:"",options:e.entidades,label:"Entidades","transition-show":"jump-up","transition-hide":"jump-up"},model:{value:e.entSelect,callback:function(t){e.entSelect=t},expression:"entSelect"}})],1),t("div",{},[t("q-btn",{staticClass:"q-py-sm",attrs:{color:"primary",icon:"search"},on:{click:e.getProducao}})],1)]),t("div",{staticClass:"row justify-evenly",staticStyle:{height:"100%"}},[t("div",{staticClass:"col-4"},[t("q-table",{staticStyle:{height:"40vw"},attrs:{title:"Tabela de preços",data:e.tabPreco,columns:e.tabPreColumns,"row-key":"codExame",pagination:e.pagination,"rows-per-page-options":[0]},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[t("div",{staticClass:"text-h6"},[e._v("Tabela de preços")]),t("q-space"),e.tabPreco.length>0?t("q-btn",{attrs:{color:"primary",icon:"download"},on:{click:e.downloadTabelaPreco}}):e._e()]},proxy:!0}],null,!1,2221256546)})],1),t("div",{staticClass:"col-7"},[t("q-table",{staticStyle:{height:"40vw"},attrs:{title:"Produção",data:e.producao,columns:e.proColumns,"row-key":"codExame",pagination:e.pagination,"rows-per-page-options":[0]},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[t("div",{staticClass:"text-h6"},[e._v("Produção")]),t("q-space"),e.producao.length>0?t("q-btn",{attrs:{color:"primary",icon:"download"},on:{click:e.downloadProducaoExcel}}):e._e()]},proxy:!0}],null,!1,266209832)})],1)])]):t("div",[t("div",{staticClass:"image-container"},[t("q-img",{staticClass:"logo",attrs:{src:a("4349")}})],1)])])},o=[],r=(a("e260"),a("d81d"),a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),a("c973")),i=a.n(r),s=a("bc3a"),l=a.n(s),c=(a("bd4c"),{name:"Home",components:{},data:function(){return{pagination:{rowsPerPage:0},tabPreColumns:[{name:"tpiExame",align:"left",label:"Cod. Exame",field:"tpiExame",sortable:!0},{name:"ExaNome",align:"left",label:"Exame",field:"ExaNome",sortable:!0},{name:"tpiPreco",label:"Valor",field:"tpiPreco",sortable:!0}],tabPreco:[],proColumns:[{name:"solExame",align:"left",label:"Cod. Exame",field:"solExame",sortable:!0},{name:"ExaNome",align:"left",label:"Exame",field:"ExaNome",sortable:!0},{name:"Qtde",align:"left",label:"Qtde",field:"Qtde",sortable:!0},{name:"Valor",align:"left",label:"Valor",field:"Valor",sortable:!0}],producao:[],entidades:[],entSelect:null,datein:null,datefim:null}},beforeCreate:function(){localStorage.getItem("token")||this.$router.push("/"),localStorage.getItem("id")&&(this.idUsuario=localStorage.getItem("id"))},created:function(){},mounted:function(){this.getValorExame(),this.getEntidades()},beforeDestroy:function(){},methods:{getEntidades:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("http://187.49.94.173:4001/listaEntidades",{timeout:2e3});case 3:a=t.sent,e.entidades=a.data.map((function(e){return{label:e.ENTFANTASIA,value:e.entsid}})),console.log(e.entidades),t.next=21;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.prev=10,t.next=13,l.a.get("http://10.4.0.151:4000/listaEntidades");case 13:n=t.sent,e.entidades=n.data.map((function(e){return{label:e.ENTFANTASIA,value:e.entsid}})),console.log(e.entidades),t.next=21;break;case 18:t.prev=18,t.t1=t["catch"](10),console.error(t.t1);case 21:case"end":return t.stop()}}),t,null,[[0,8],[10,18]])})))()},getValorExame:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={entsid:e.idUsuario},t.prev=1,t.next=4,l.a.post("http://187.49.94.173:4001/listarTabelaPreco",a,{timeout:2e3});case 4:n=t.sent,e.tabPreco=n.data.map((function(e){return{tpiExame:e.tpiExame,ExaNome:e.ExaNome,tpiPreco:parseFloat(e.tpiPreco)}})),t.next=20;break;case 8:return t.prev=8,t.t0=t["catch"](1),t.prev=10,t.next=13,l.a.post("http://10.4.0.151:4000/listarTabelaPreco",a,{timeout:2e3});case 13:o=t.sent,e.tabPreco=o.data.map((function(e){return{tpiExame:e.tpiExame,ExaNome:e.ExaNome,tpiPreco:parseFloat(e.tpiPreco)}})),t.next=20;break;case 17:t.prev=17,t.t1=t["catch"](10),console.error(t.t1);case 20:case"end":return t.stop()}}),t,null,[[1,8],[10,17]])})))()},getProducao:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={entidades:e.entSelect.map((function(e){return e.value})),datainicial:e.datein,datafinal:e.datefim},console.log(a),t.prev=2,t.next=5,l.a.post("http://187.49.94.173:4001/listaProducaoEntidade",a,{timeout:2e3});case 5:n=t.sent,e.producao=n.data.map((function(e){return{solExame:e.solExame,ExaNome:e.ExaNome,Qtde:Number(e.Qtde),Valor:parseFloat(e.Valor)}})),t.next=22;break;case 9:return t.prev=9,t.t0=t["catch"](2),t.prev=11,t.next=14,l.a.post("http://10.4.0.151:4000/listaProducaoEntidade",a,{timeout:2e3});case 14:o=t.sent,e.producao=o.data.map((function(e){return{solExame:e.solExame,ExaNome:e.ExaNome,Qtde:Number(e.Qtde),Valor:parseFloat(e.Valor)}})),console.log(e.producao),t.next=22;break;case 19:t.prev=19,t.t1=t["catch"](11),console.error(t.t1);case 22:case"end":return t.stop()}}),t,null,[[2,9],[11,19]])})))()},downloadProducaoExcel:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,n,o,r,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.entSelect&&0!==e.entSelect.length){t.next=3;break}return e.$q.notify({type:"negative",message:"Por favor, selecione pelo menos uma entidade.",position:"top"}),t.abrupt("return");case 3:if(e.datein&&e.datefim){t.next=6;break}return e.$q.notify({type:"negative",message:"As datas de início e fim são obrigatórias.",position:"top"}),t.abrupt("return");case 6:return a={entidades:e.entSelect.map((function(e){return e.value})),datainicial:e.datein,datafinal:e.datefim},t.prev=7,t.next=10,l.a.post("http://187.49.94.173:4001/export/listaProducaoEntidade",a,{responseType:"blob",timeout:3e3});case 10:n=t.sent,o=window.URL.createObjectURL(new Blob([n.data])),r=document.createElement("a"),r.href=o,r.setAttribute("download","producao_entidade.xlsx"),document.body.appendChild(r),r.click(),r.remove(),t.next=38;break;case 20:return t.prev=20,t.t0=t["catch"](7),t.prev=22,t.next=25,l.a.post("http://10.4.0.151:4000/export/listaProducaoEntidade",a,{responseType:"blob",timeout:3e3});case 25:i=t.sent,s=window.URL.createObjectURL(new Blob([i.data])),c=document.createElement("a"),c.href=s,c.setAttribute("download","producao_entidade.xlsx"),document.body.appendChild(c),c.click(),c.remove(),t.next=38;break;case 35:t.prev=35,t.t1=t["catch"](22),console.error;case 38:case"end":return t.stop()}}),t,null,[[7,20],[22,35]])})))()},downloadTabelaPreco:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,n,o,r,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={entsid:e.idUsuario},t.prev=1,t.next=4,l.a.post("http://187.49.94.173:4001/export/listarTabelaPreco",a,{timeout:3e3,responseType:"blob"});case 4:n=t.sent,o=window.URL.createObjectURL(new Blob([n.data])),r=document.createElement("a"),r.href=o,r.setAttribute("download","tabela_preco.xlsx"),document.body.appendChild(r),r.click(),r.remove(),t.next=32;break;case 14:return t.prev=14,t.t0=t["catch"](1),t.prev=16,t.next=19,l.a.post("http://10.4.0.151:4000/export/listarTabelaPreco",a,{timeout:3e3,responseType:"blob"});case 19:i=t.sent,s=window.URL.createObjectURL(new Blob([i.data])),c=document.createElement("a"),c.href=s,c.setAttribute("download","tabela_preco.xlsx"),document.body.appendChild(c),c.click(),c.remove(),t.next=32;break;case 29:t.prev=29,t.t1=t["catch"](16),console.error(t.t1);case 32:case"end":return t.stop()}}),t,null,[[1,14],[16,29]])})))()}}}),d=c,p=(a("1434"),a("2877")),u=a("27f9"),m=a("0016"),b=a("7cbe"),f=a("52ee"),x=a("9c40"),v=a("ddd8"),h=a("eaac"),g=a("2c91"),w=a("068f"),E=a("7f67"),y=a("eebe"),k=a.n(y),P=Object(p["a"])(d,n,o,!1,null,"3074fd95",null);t["default"]=P.exports;k()(P,"components",{QInput:u["a"],QIcon:m["a"],QPopupProxy:b["a"],QDate:f["a"],QBtn:x["a"],QSelect:v["a"],QTable:h["a"],QSpace:g["a"],QImg:w["a"]}),k()(P,"directives",{ClosePopup:E["a"]})}}]);